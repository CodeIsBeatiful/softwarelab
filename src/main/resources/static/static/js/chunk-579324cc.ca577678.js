(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-579324cc"],{6558:function(t,e,n){},b562:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"e",(function(){return r})),n.d(e,"d",(function(){return l}));var i=n("b775");function s(t){return Object(i["a"])({url:"/apps",method:"get",params:t})}function o(){return Object(i["a"])({url:"/appTypes",method:"get"})}function a(t){return Object(i["a"])({url:"/apps/names",method:"get",params:{type:t}})}function r(t){return Object(i["a"])({url:"/appVersions?op=simple",method:"get",params:{name:t}})}function l(t,e){return Object(i["a"])({url:"/appVersions/"+t+"/"+e,method:"get"})}},f1d9:function(t,e,n){"use strict";var i=n("6558"),s=n.n(i);s.a},f82c:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"store-container"},[n("div",{staticClass:"filter-container"}),t._v(" "),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:24}},[n("el-divider",{attrs:{"content-position":"left"}},[t._v("ALL")])],1),t._v(" "),t._l(t.list,(function(e){return n("el-col",{key:e.name,attrs:{span:6}},[n("div",{staticClass:"grid-content bg-purple-light"},[n("div",{staticClass:"store-app-logo"},[n("img",{staticStyle:{width:"96px",height:"96px",margin:"5px","border-radius":"10px"},attrs:{src:"data:image/png;base64,"+e.logo}})]),t._v(" "),n("div",{staticClass:"store-app-desc"},[n("p",{staticClass:"store-app-desc-p"},[t._v(t._s(e.name))]),t._v(" "),n("p",{staticClass:"store-app-desc-p",staticStyle:{color:"#5a5a5a","font-size":"0.8em"}},[t._v(t._s(t._f("ellipsis")(e.description)))]),t._v(" "),n("p",[n("el-button",{attrs:{icon:"el-icon-info",type:"primary",size:"small",disabled:e.isCollect},on:{click:function(n){return t.showDialog(n,e.name)}}},[t._v("detail")]),t._v(" "),n("el-dropdown",{attrs:{size:"small",trigger:"click","split-button":""},on:{"visible-change":function(n){return t.handleDownloadDropdownChange(n,e.name)},command:function(n){return t.requestDownload(e.name,n)}}},[t._v("\n                  Download\n                "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{disabled:""}},[t._v("Choose Version")]),t._v(" "),t._l(t.appVersions,(function(e){return[n("el-dropdown-item",{key:e.version,attrs:{command:e.version,disabled:2===e.downloadStatus,icon:t._f("downloadIconFilter")(e.downloadStatus)}},[t._v("\n                      "+t._s(e.version)+"\n                    ")])]}))],2)],1)],1)])])])}))],2),t._v(" "),n("el-dialog",{attrs:{title:"Tips",visible:t.dialogVisible,width:"30%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("h4",[t._v(t._s(t.curApp.name))]),t._v(" "),n("span",[t._v(t._s(t.curApp.description))])])],1)},s=[],o=(n("7f7f"),n("b562")),a=n("5f87"),r=n("ed08"),l={filters:{ellipsis:function(t){return t?t.length>30?t.slice(0,30)+"...":t:""},downloadIconFilter:function(t){return 2===t?"el-icon-check":1===t?"el-icon-loading":0===t?"el-icon-download":""}},data:function(){return{dialogVisible:!1,list:null,listLoading:!0,curApp:{},appVersions:[],socket:null,token:Object(a["a"])()}},created:function(){this.fetchData()},mounted:function(){this.socket=new WebSocket("ws://"+Object(r["c"])()+"/api/ws/message?token=".concat(this.token));var t=this;this.socket.addEventListener("message",(function(e){t.$notify({title:"Success",message:e.data,type:"success",duration:2e3})}))},methods:{fetchData:function(){var t=this;this.listLoading=!0,Object(o["a"])({pageNum:0,pageSize:10}).then((function(e){t.list=e.data.records,t.listLoading=!1}))},findData:function(t){for(var e=0;e<this.list.length;++e)if(this.list[e].name===t)return this.list[e];return null},handleClose:function(t){t()},showDialog:function(t,e){this.dialogVisible=!0,this.curApp=this.findData(e)},handleDownloadDropdownChange:function(t,e){var n=this;t?Object(o["e"])(e).then((function(t){n.appVersions=t.data})):this.appVersions=[]},requestDownload:function(t,e){this.socket.send(JSON.stringify({type:"image",operate:"download",content:t+":"+e}))}}},c=l,d=(n("f1d9"),n("2877")),u=Object(d["a"])(c,i,s,!1,null,"f802c3fa",null);e["default"]=u.exports}}]);